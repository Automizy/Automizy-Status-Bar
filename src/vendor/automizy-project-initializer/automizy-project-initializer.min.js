(function(){window.AutomizyGlobalPlugins=window.AutomizyGlobalPlugins||{i:0},window.AutomizyGlobalZIndex=window.AutomizyGlobalZIndex||2e3,window.AutomizyProject=function(a){var b=this;if("undefined"!==typeof a.variables)for(var c in a.variables)b[c]=a.variables[c];b.initializer.plugins=a.plugins||[]};var a=function(a){a.version="0.1.1",a.elements={},a.dialogs={},a.inputs={},a.buttons={},a.forms={},a.functions={},a.modules={},a.xhr={},a.config={dir:".",url:"https://app.automizy.com"},a.m={},a.d={},a.initializer={}};var b=window.AutomizyProject.prototype;a(b),b.pluginLoader=new function(){var a=this;a.d={plugins:[],loadedPluginsCount:0,allPluginsCount:0,globalPluginsCount:0,loadedGlobalPluginsCount:0,completeFunctionReady:true,completeFunctions:[]},a.addPlugin=function(a){return this.addPlugins([a])},a.plugins=a.addPlugins=function(a){var b=this;if("undefined"!==typeof a){for(var c=0;c<a.length;c++){var d=a[c];if(d.skipCondition=d.skipCondition||false,d.complete=d.complete||function(){},d.css=d.css||[],d.js=d.js||[],d.name=d.name||"automizy-plugin-"+ ++AutomizyGlobalPlugins.i,"string"===typeof d.css)d.css=[d.css];if("string"===typeof d.js)d.js=[d.js];b.d.plugins.push(d)}return b}return b.d.plugins},a.pluginThen=function(a){var b=this;b.d.loadedPluginsCount++;for(var c=0;c<a.completeFunctions.length;c++)a.completeFunctions[c].apply(a,[true]),a.completed=true;if(console.log(a.name+" loaded in AutomizyProjectInitializer ("+b.d.loadedPluginsCount+"/"+b.d.allPluginsCount+")"),b.d.loadedPluginsCount===b.d.allPluginsCount&&b.d.globalPluginsCount===b.d.loadedGlobalPluginsCount&&b.d.completeFunctionReady)b.d.completeFunctionReady=false,b.complete();return b},a.run=function(){var a=this;var b=false;var c=[];a.d.allPluginsCount=0,a.d.loadedPluginsCount=0;for(var d=0;d<a.d.plugins.length;d++){var e=a.d.plugins[d];if(e.inited)continue;if(e.inited=true,"undefined"===typeof AutomizyGlobalPlugins[e.name])AutomizyGlobalPlugins[e.name]={name:e.name,skipCondition:e.skipCondition,css:e.css,js:e.js,xhr:false,completed:false,completeFunctions:[e.complete]};else{if(AutomizyGlobalPlugins[e.name].completeFunctions.push(e.complete),AutomizyGlobalPlugins[e.name].completed)e.complete.apply(e,[false]);else b=true,a.d.globalPluginsCount++,AutomizyGlobalPlugins[e.name].xhr.always(function(){if(a.d.loadedGlobalPluginsCount++,a.d.loadedPluginsCount===a.d.allPluginsCount&&a.d.globalPluginsCount===a.d.loadedGlobalPluginsCount&&a.d.completeFunctionReady)a.d.completeFunctionReady=false,a.complete()});continue}var f=AutomizyGlobalPlugins[e.name];if(f.skipCondition){f.completed=true,f.completeFunctions[0].apply(f,[false]);continue}for(var g=0;g<f.css.length;g++){var h=document.getElementsByTagName("head")[0];var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",i.href=f.css[g],h.appendChild(i)}b=true,function(b){var d=[];if(a.d.allPluginsCount++,b.js.length<=0)c.push(b);else{for(var e=0;e<b.js.length;e++)d.push($.getScript(b.js[e]));b.xhr=$.when.apply(null,d).always(function(){a.pluginThen(b)})}}(f)}for(var d=0;d<c.length;d++)a.pluginThen(c[d]);if(!b)a.complete();return a},a.complete=function(a){var b=this;if("function"===typeof a)return b.d.completeFunctionReady=true,b.d.completeFunctions.push({inited:false,func:a}),b;var c=b.d.completeFunctions.length;for(var d=0;d<c;d++){if(b.d.completeFunctions[d].inited)continue;b.d.completeFunctions[d].inited=true,b.d.completeFunctions[d].func.apply(b,[])}return b}},b.runTheFunctions=function(a,c,d){var a=a||[];var c=c||b;var d=d||[];for(var e=0;e<a.length;e++)a[e].apply(c,d)},b.functions.pluginsLoadedFunctions=[],b.pluginsLoaded=function(a){if("function"===typeof a){if(b.functions.pluginsLoadedFunctions.push(a),b.automizyPluginsLoaded)a.apply(b,[]);return b}return b.runTheFunctions(b.functions.pluginsLoadedFunctions,b,[]),b.automizyPluginsLoaded=true,b},b.loadPlugins=function(){(function(){if("undefined"===typeof window.jQuery){var a=document.createElement("SCRIPT");a.src=b.config.dir+"/vendor/jquery/jquery.min.js",a.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(a)}var c=function(a){if("function"===typeof window.jQuery)a(jQuery);else window.setTimeout(function(){c(a)},100)};c(function(a){if(b.initializer.plugins.length>0)b.pluginLoader.plugins(b.initializer.plugins).complete(function(){b.pluginsLoaded()}).run();else b.pluginsLoaded()})})()},b.init=function(){if("undefined"===typeof b.automizyInited)b.automizyInited=false;if(!b.automizyInited)b.automizyInited=true,b.loadPlugins();return b},b.baseDir=function(a){if("undefined"!==typeof a)return b.config.dir=a,b;return b.config.dir},b.functions.readyFunctions=[],b.ready=function(a){if("function"===typeof a){if(b.functions.readyFunctions.push(a),b.automizyReady)a.apply(b,[]);return b}return b.runTheFunctions(b.functions.readyFunctions),b.automizyReady=true,b},b.functions.layoutReadyFunctions=[],b.layoutReady=function(a){if("function"===typeof a){if(b.functions.layoutReadyFunctions.push(a),b.automizyLayoutReady)a.apply(b,[]);return b}return b.runTheFunctions(b.functions.layoutReadyFunctions),b.automizyLayoutReady=true,b},b.id=function(a){if("undefined"!==typeof a)return this.d.id=a,this;return this.d.id},console.log("%c AutomizyProjectInitializer loaded! ","background: #000000; color: #bada55; font-size:14px")})();
//# sourceMappingURL=automizy-project-initializer.min.map