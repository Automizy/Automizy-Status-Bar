(function(){return window.AutomizyGlobalPlugins=window.AutomizyGlobalPlugins||{i:0},window.AutomizyGlobalZIndex=window.AutomizyGlobalZIndex||2e3,window.AutomizyStatusBar=window.$ASB=new function(){var a=this;a.version="0.1.1",a.elements={},a.dialogs={},a.inputs={},a.buttons={},a.forms={},a.functions={},a.xhr={},a.config={dir:".",url:"https://app.automizy.com"},a.m={},a.d={},a.groups={},a.processes={}},$ASB})(),function(){var a=function(){var a=this;a.d={plugins:[],loadedPluginsCount:0,allPluginsCount:0,globalPluginsCount:0,loadedGlobalPluginsCount:0,completeFunctionReady:true,completeFunctions:[]}};var b=a.prototype;b.addPlugin=function(a){return this.addPlugins([a])},b.plugins=b.addPlugins=function(a){var b=this;if("undefined"!==typeof a){for(var c=0;c<a.length;c++){var d=a[c];if(d.skipCondition=d.skipCondition||false,d.complete=d.complete||function(){},d.css=d.css||[],d.js=d.js||[],d.name=d.name||"automizy-plugin-"+ ++AutomizyGlobalPlugins.i,"string"===typeof d.css)d.css=[d.css];if("string"===typeof d.js)d.js=[d.js];b.d.plugins.push(d)}return b}return b.d.plugins},b.pluginThen=function(a){var b=this;b.d.loadedPluginsCount++;for(var c=0;c<a.completeFunctions.length;c++)a.completeFunctions[c].apply(a,[true]),a.completed=true;if(console.log(a.name+" loaded in AutomizySkeleton module ("+b.d.loadedPluginsCount+"/"+b.d.allPluginsCount+")"),b.d.loadedPluginsCount===b.d.allPluginsCount&&b.d.globalPluginsCount===b.d.loadedGlobalPluginsCount&&b.d.completeFunctionReady)b.d.completeFunctionReady=false,b.complete();return b},b.run=function(){var a=this;var b=false;var c=[];a.d.allPluginsCount=0,a.d.loadedPluginsCount=0;for(var d=0;d<a.d.plugins.length;d++){var e=a.d.plugins[d];if(e.inited)continue;if(e.inited=true,"undefined"===typeof AutomizyGlobalPlugins[e.name])AutomizyGlobalPlugins[e.name]={name:e.name,skipCondition:e.skipCondition,css:e.css,js:e.js,xhr:false,completed:false,completeFunctions:[e.complete]};else{if(AutomizyGlobalPlugins[e.name].completeFunctions.push(e.complete),AutomizyGlobalPlugins[e.name].completed)e.complete.apply(e,[false]);else b=true,a.d.globalPluginsCount++,AutomizyGlobalPlugins[e.name].xhr.always(function(){if(a.d.loadedGlobalPluginsCount++,a.d.loadedPluginsCount===a.d.allPluginsCount&&a.d.globalPluginsCount===a.d.loadedGlobalPluginsCount&&a.d.completeFunctionReady)a.d.completeFunctionReady=false,a.complete()});continue}var f=AutomizyGlobalPlugins[e.name];if(f.skipCondition){f.completed=true,f.completeFunctions[0].apply(f,[false]);continue}for(var g=0;g<f.css.length;g++){var h=document.getElementsByTagName("head")[0];var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",i.href=f.css[g],h.appendChild(i)}b=true,function(b){var d=[];if(a.d.allPluginsCount++,b.js.length<=0)c.push(b);else{for(var e=0;e<b.js.length;e++)d.push($.getScript(b.js[e]));b.xhr=$.when.apply(null,d).always(function(){a.pluginThen(b)})}}(f)}for(var d=0;d<c.length;d++)a.pluginThen(c[d]);if(!b)a.complete();return a},b.complete=function(a){var b=this;if("function"===typeof a)return b.d.completeFunctionReady=true,b.d.completeFunctions.push({inited:false,func:a}),b;var c=b.d.completeFunctions.length;for(var d=0;d<c;d++){if(b.d.completeFunctions[d].inited)continue;b.d.completeFunctions[d].inited=true,b.d.completeFunctions[d].func.apply(b,[])}return b},$ASB.pluginLoader=new a}(),function(){$ASB.runTheFunctions=function(a,b,c){var a=a||[];var b=b||$ASB;var c=c||[];for(var d=0;d<a.length;d++)a[d].apply(b,c)}}(),function(){$ASB.functions.pluginsLoadedFunctions=[],$ASB.pluginsLoaded=function(a){if("function"===typeof a){if($ASB.functions.pluginsLoadedFunctions.push(a),$ASB.automizyPluginsLoaded)a.apply($ASB,[]);return $ASB}return $ASB.runTheFunctions($ASB.functions.pluginsLoadedFunctions,$ASB,[]),$ASB.automizyPluginsLoaded=true,$ASB}}(),function(){$ASB.loadPlugins=function(){(function(){if("undefined"===typeof window.jQuery){var a=document.createElement("SCRIPT");a.src=$ASB.config.dir+"/vendor/jquery/jquery.min.js",a.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(a)}var b=function(a){if("function"===typeof window.jQuery)a(jQuery);else window.setTimeout(function(){b(a)},100)};b(function(a){$ASB.pluginLoader.plugins([{name:"fontAwesome",skipCondition:function(){var a=document.createElement("span");if(a.className="fa",a.style.display="none",document.body.insertBefore(a,document.body.firstChild),"FontAwesome"===window.getComputedStyle(a,null).getPropertyValue("font-family"))return document.body.removeChild(a),true;return document.body.removeChild(a),false}(),css:$ASB.config.dir+"/vendor/fontawesome/css/font-awesome.min.css"},{name:"automizyJs",skipCondition:"undefined"!==typeof AutomizyJs,css:$ASB.config.dir+"/vendor/automizy-js/automizy.css",js:[$ASB.config.dir+"/vendor/automizy-js/languages/en_US.js",$ASB.config.dir+"/vendor/automizy-js/automizy.js"],complete:function(){$A.setTranslate(window.I18N||{})}}]).complete(function(){$ASB.pluginsLoaded()}).run()})})()}}(),function(){$ASB.init=function(){if("undefined"===typeof $ASB.automizyInited)$ASB.automizyInited=false;if(!$ASB.automizyInited)$ASB.automizyInited=true,$ASB.loadPlugins();return $ASB}}(),function(){$ASB.baseDir=function(a){if("undefined"!==typeof a)return $ASB.config.dir=a,$ASB;return $ASB.config.dir}}(),function(){$ASB.functions.layoutReadyFunctions=[],$ASB.layoutReady=function(a){if("function"===typeof a){if($ASB.functions.layoutReadyFunctions.push(a),$ASB.automizyLayoutReady)a.apply($ASB,[]);return $ASB}return $ASB.runTheFunctions($ASB.functions.layoutReadyFunctions),$ASB.automizyLayoutReady=true,$ASB}}(),function(){$ASB.functions.readyFunctions=[],$ASB.ready=function(a){if("function"===typeof a){if($ASB.functions.readyFunctions.push(a),$ASB.automizyReady)a.apply($ASB,[]);return $ASB}return $ASB.runTheFunctions($ASB.functions.readyFunctions),$ASB.automizyReady=true,$ASB}}(),function(){$ASB.scanGroups=function(){for(var a in $ASB.groups)$ASB.groups[a].d.hasProcess=false;for(var a in $ASB.processes)if(!!$ASB.processes[a].group())$ASB.groups[$ASB.processes[a].group().name()].d.hasProcess=true;for(var a in $ASB.groups)if(false===$ASB.groups[a].d.hasProcess)$ASB.groups[a].d.$contentEmptyText.show();else $ASB.groups[a].d.$contentEmptyText.hide();return $ASB}}(),function(){var a=function(){var a=this;a.d={opened:true},a.d.$widget=$('<div class="automizy-status-bar-group"></div>'),a.d.$titleBar=$('<div class="automizy-status-bar-group-title-bar"></div>'),a.d.$title=$('<span class="automizy-status-bar-group-title"></span>'),a.d.$titleIcon=$('<span class="automizy-status-bar-group-title-icon fa fa-caret-down"></span>'),a.d.$content=$('<div class="automizy-status-bar-group-content"></div>'),a.d.$contentEmptyText=$('<div class="automizy-status-bar-group-content-empty-text"></div>'),a.d.$titleBar.appendTo(a.d.$widget),a.d.$title.appendTo(a.d.$titleBar),a.d.$titleIcon.appendTo(a.d.$titleBar),a.d.$content.appendTo(a.d.$widget),a.d.$contentEmptyText.appendTo(a.d.$content).text($A.translate("There are no process!")).hide(),a.d.$titleBar.click(function(){if(a.d.opened)a.close();else a.open()}),a.name($A.getUniqueString())};var b=a.prototype;return b.addProcess=function(a){return this.addProcesses([a])},b.processes=b.addProcesses=function(a){var b=this;var a=a||[];for(var c=0;c<a.length;c++){var d;if(a[c]instanceof $ASB.m.Process)d=a[c].drawTo(b.d.$content);else if("array"===typeof a[c]||"object"===typeof a[c])d=$ASB.newProcess(a[c]).drawTo(b.d.$content);d.d.group=b}return $ASB.scanGroups(),b},b.open=function(){var a=this;return a.d.opened=true,a.d.$widget.addClass("automizy-active"),a.d.$titleIcon.removeClass("fa-caret-up").addClass("fa-caret-down"),a.d.$content.stop().slideDown(),a},b.close=function(){var a=this;return a.d.opened=false,a.d.$widget.removeClass("automizy-active"),a.d.$titleIcon.addClass("fa-caret-up").removeClass("fa-caret-down"),a.d.$content.stop().slideUp(),a},b.name=function(a){var b=this;if("undefined"!==typeof a){if("undefined"!==typeof $ASB.groups[b.d.name])delete $ASB.groups[b.d.name];return b.d.name=a,$ASB.groups[b.d.name]=b,b}return b.d.name},b.title=function(a){var b=this;if("undefined"!==typeof a)return b.d.title=a,b.d.$title.html(b.d.title),b;return b.d.title},b.emptyText=function(a){var b=this;if("undefined"!==typeof a)return b.d.emptyText=a,b.d.$contentEmptyText.html(b.d.emptyText),b;return b.d.emptyText},b.widget=function(){return this.d.$widget},b.draw=b.drawTo=function(a){var b=this;var a=a||$ASB.$groups;if("function"===typeof a.widget)b.d.$widget.appendTo(a.widget());else b.d.$widget.appendTo(a);return b},$ASB.m.Group=a,$ASB.newGroup=function(){return new $ASB.m.Group},$ASB.m.Group}(),function(){var a=function(){var a=this;if(a.d={group:false,hoverTitle:false,icon:false,time:false,percent:0,stop:false,stopFunction:function(){},start:false,startFunction:function(){},pause:false,pauseFunction:function(){},edit:false,editFunction:function(){},info:false,infoFunction:function(){},download:false,downloadFunction:function(){}},a.d.$widget=$('<div class="automizy-status-bar-process"></div>'),a.d.$dataTable=$('<table cellpadding="0" cellspacing="0" border="0" class="automizy-status-bar-process-data-table"></table>').appendTo(a.d.$widget),a.d.$dataRow=$("<tr></tr>").appendTo(a.d.$dataTable),a.d.$timeBox=$('<div class="automizy-status-bar-process-time-box"></div>').appendTo(a.d.$widget),a.d.$statusBox=$('<div class="automizy-status-bar-process-status-box"></div>').appendTo(a.d.$widget),a.d.$iconCell=$('<td class="automizy-status-bar-process-icon-cell"></td>').appendTo(a.d.$dataRow),a.d.$icon=$('<span class="automizy-status-bar-process-icon"></span>').appendTo(a.d.$iconCell),a.d.$titleCell=$('<td class="automizy-status-bar-process-title-cell"></td>').appendTo(a.d.$dataRow),a.d.$title=$('<span class="automizy-status-bar-process-title"></span>').appendTo(a.d.$titleCell),a.d.$actionsCell=$('<td class="automizy-status-bar-process-actions-cell"></td>').appendTo(a.d.$dataRow),a.d.$actions=$('<span class="automizy-status-bar-process-actions"></span>').appendTo(a.d.$actionsCell),a.d.$timeIcon=$('<span class="automizy-status-bar-process-time-icon fa fa-clock-o"></span>').appendTo(a.d.$timeBox),a.d.$timeText=$('<span class="automizy-status-bar-process-time-text"></span>').appendTo(a.d.$timeBox),a.d.$timeDate=$('<span class="automizy-status-bar-process-time-date"></span>').appendTo(a.d.$timeBox),a.d.statusBar=$A.newProgressBar().percentPosition("bottom").drawTo(a.d.$statusBox),a.d.$downloadAction=$('<span class="automizy-status-bar-process-actions-action fa fa-download" title="'+$A.translate("Download")+'"></span>').appendTo(a.d.$actions).click(function(){a.download()}).hide(),a.d.$startAction=$('<span class="automizy-status-bar-process-actions-action fa fa-play" title="'+$A.translate("Start")+'"></span>').appendTo(a.d.$actions).click(function(){a.start()}).hide(),a.d.$pauseAction=$('<span class="automizy-status-bar-process-actions-action fa fa-pause" title="'+$A.translate("Pause")+'"></span>').appendTo(a.d.$actions).click(function(){a.pause()}).hide(),a.d.$editAction=$('<span class="automizy-status-bar-process-actions-action fa fa-pencil" title="'+$A.translate("Edit")+'"></span>').appendTo(a.d.$actions).click(function(){a.edit()}).hide(),a.d.$stopAction=$('<span class="automizy-status-bar-process-actions-action fa fa-stop" title="'+$A.translate("Stop")+'"></span>').appendTo(a.d.$actions).click(function(){a.stop()}).hide(),a.d.$infoAction=$('<span class="automizy-status-bar-process-actions-action fa fa-info" title="'+$A.translate("Info")+'"></span>').appendTo(a.d.$actions).click(function(){a.info()}).hide(),a.name($A.getUniqueString()),"function"===typeof $().tooltipster)a.d.$iconCell.tooltipster({delay:1}),a.d.$downloadAction.tooltipster({delay:1}),a.d.$startAction.tooltipster({delay:1}),a.d.$pauseAction.tooltipster({delay:1}),a.d.$editAction.tooltipster({delay:1}),a.d.$stopAction.tooltipster({delay:1}),a.d.$infoAction.tooltipster({delay:1})};var b=a.prototype;return b.name=function(a){var b=this;if("undefined"!==typeof a){if("undefined"!==typeof $ASB.processes[b.d.name])delete $ASB.processes[b.d.name];return b.d.name=a,$ASB.processes[b.d.name]=b,b}return b.d.name},b.title=function(a){var b=this;if("undefined"!==typeof a)return b.d.title=a,b.d.$title.html(b.d.title),b;return b.d.title},b.hoverTitle=function(a){var b=this;if("undefined"!==typeof a){if(false!==b.d.hoverTitle&&b.hoverTitle()==a)return b;if(b.d.hoverTitle=a,"function"===typeof $().tooltipster)b.d.$iconCell.tooltipster("destroy");if(b.d.$iconCell.attr("title",b.d.hoverTitle),"function"===typeof $().tooltipster)b.d.$iconCell.tooltipster({delay:1});return b}return b.d.hoverTitle},b.icon=function(a,b){var c=this;if("undefined"!==typeof a){if(false!==c.d.icon&&c.icon()==a)return c;if(c.d.icon=a,false===c.d.icon)c.widget().removeClass("automizy-has-icon");else if(true===c.d.icon)c.widget().addClass("automizy-has-icon");else{c.widget().addClass("automizy-has-icon");var b=b||"fa";if("fa"===b)c.d.$icon.removeClass(function(a,b){return(b.match(/(^|\s)fa-\S+/g)||[]).join(" ")}).addClass("fa").addClass(a)}return c}return c.d.icon||false},b.group=function(a){var b=this;if("undefined"!==typeof a){if(false!==b.d.group&&b.d.group.name()==a)return b;if(b.d.group=$ASB.groups[a]||false,false!==b.d.group)b.d.group.addProcess(b);return b}return b.d.group},b.timeLabel=function(a){var b=this;if("undefined"!==typeof a)return b.d.timeLabel=a,b.d.$timeText.html(b.d.timeLabel),b;return b.d.timeLabel},b.time=function(a){var b=this;if("undefined"!==typeof a){if(false!==b.d.time&&b.time()==a)return b;return b.d.time=a,b.d.$timeDate.html(b.d.time),b}return b.d.time},b.percent=function(a){var b=this;if("undefined"!==typeof a){if(false!==b.d.percent&&b.percent()==a)return b;return b.d.percent=a,b.d.statusBar.percent(b.d.percent),b}return b.d.percent},b.fadeTo=function(a,b){var c=this;if("undefined"!==typeof a){if("undefined"!==typeof b)var b=b;else b=500;c.widget().stop().fadeTo(b,a)}return c},b.showStatusBox=function(a){var b=this;return b.d.$statusBox.show(),b},b.hideStatusBox=function(a){var b=this;return b.d.$statusBox.hide(),b},b.showTimeBox=function(a){var b=this;return b.d.$timeBox.show(),b},b.hideTimeBox=function(a){var b=this;return b.d.$timeBox.hide(),b},b.remove=function(){var a=this;return delete $ASB.processes[a.name()],a.d.$widget.remove(),$ASB.scanGroups(),a},b.stop=function(a){var b=this;if("undefined"!==typeof a){if("function"===typeof a)b.d.stop=true,b.d.stopFunction=a;else b.d.stop=$A.parseBoolean(a);if(b.d.stop)b.d.$stopAction.show();else b.d.$stopAction.hide();return b}if(b.d.stop)b.d.stopFunction.apply(b,[b]);return b},b.start=function(a){var b=this;if("undefined"!==typeof a){if("function"===typeof a)b.d.start=true,b.d.startFunction=a;else b.d.start=$A.parseBoolean(a);if(b.d.start)b.d.$startAction.show();else b.d.$startAction.hide();return b}if(b.d.start)b.d.startFunction.apply(b,[b]);return b},b.pause=function(a){var b=this;if("undefined"!==typeof a){if("function"===typeof a)b.d.pause=true,b.d.pauseFunction=a;else b.d.pause=$A.parseBoolean(a);if(b.d.pause)b.d.$pauseAction.show();else b.d.$pauseAction.hide();return b}if(b.d.pause)b.d.pauseFunction.apply(b,[b]);return b},b.edit=function(a){var b=this;if("undefined"!==typeof a){if("function"===typeof a)b.d.edit=true,b.d.editFunction=a;else b.d.edit=$A.parseBoolean(a);if(b.d.edit)b.d.$editAction.show();else b.d.$editAction.hide();return b}if(b.d.edit)b.d.editFunction.apply(b,[b]);return b},b.info=function(a){var b=this;if("undefined"!==typeof a){if("function"===typeof a)b.d.info=true,b.d.infoFunction=a;else b.d.info=$A.parseBoolean(a);if(b.d.info)b.d.$infoAction.show();else b.d.$infoAction.hide();return b}if(b.d.info)b.d.infoFunction.apply(b,[b]);return b},b.download=function(a){var b=this;if("undefined"!==typeof a){if("function"===typeof a)b.d.download=true,b.d.downloadFunction=a;else b.d.download=$A.parseBoolean(a);if(b.d.download)b.d.$downloadAction.show();else b.d.$downloadAction.hide();return b}if(b.d.download)b.d.downloadFunction.apply(b,[b]);return b},b.widget=function(){return this.d.$widget},b.draw=b.drawTo=function(a){var b=this;var a=a||$("body").eq(0);if("function"===typeof a.widget)b.d.$widget.appendTo(a.widget());else b.d.$widget.appendTo(a);return b},b.data=function(a,b){var c=this;if("undefined"===typeof c.d.data)c.d.data={};if("undefined"===typeof a)return c.d.data;if("array"===typeof a||"object"===typeof a){for(var d in a)c.d.data[d]=a[d];return c}if("undefined"===typeof b)return c.d.data[a];return c.d.data[a]=b,c},$ASB.m.Process=a,$ASB.newProcess=function(){return new $ASB.m.Process},$ASB.m.Process}(),function(){$ASB.pluginsLoaded(function(){$ASB.$tmp=$('<div id="automizy-status-bar-tmp"></div>'),$ASB.$widget=$('<div id="automizy-status-bar"></div>'),$ASB.$header=$('<div id="automizy-status-bar-header"></div>').appendTo($ASB.$widget),$ASB.$container=$('<div id="automizy-status-bar-container"></div>').appendTo($ASB.$widget),$ASB.$groups=$('<div id="automizy-status-bar-groups"></div>').appendTo($ASB.$container),$ASB.layoutReady(),$ASB.ready()})}(),function(){console.log("%c AutomizyStatusBar loaded! ","background: #000000; color: #bada55; font-size:14px")}();
//# sourceMappingURL=automizy-status-bar.min.map